type hal_midas_oplus, domain;
type hal_midas_oplus_exec, exec_type, vendor_file_type, file_type;

hal_server_domain(hal_midas_oplus, hal_midas)

init_daemon_domain(hal_midas_oplus)

hwbinder_use(hal_midas_oplus)

binder_call(hal_midas_client, hal_midas_server)
binder_call(hal_midas_client, hal_camera_default)
add_hwservice(hal_midas_server, hal_midasdev_oplus_hwservice)
allow hal_midas_client hal_midasdev_oplus_hwservice:hwservice_manager find;
allow hal_midas_server hidl_base_hwservice:hwservice_manager add;

allow hal_midas_oplus hal_camera_default:binder call;
allow hal_midas_oplus hal_camera_oplus_hwservice:hwservice_manager find;
allow hal_midas_oplus hal_midasdev_oplus_hwservice:hwservice_manager find;

allow hal_midas_oplus oplus_midas_device:chr_file rw_file_perms;

allow hal_midas_oplus vendor_proc_charger:file rw_file_perms;
allow hal_midas_oplus vendor_proc_devinfo:dir r_dir_perms;
allow hal_midas_oplus vendor_proc_devinfo:file create_file_perms;
allow hal_midas_oplus vendor_proc_devinfo:chr_file rw_file_perms;
allow hal_midas_oplus vendor_proc_oplusversion:file rw_file_perms;
allow hal_midas_oplus vendor_proc_ufsplus:file rw_file_perms;

allow hal_midas_oplus vendor_sysfs_battery_supply:dir r_dir_perms;
allow hal_midas_oplus vendor_sysfs_battery_supply:file r_file_perms;
allow hal_midas_oplus vendor_sysfs_ddr_trans_file:file r_file_perms;
allow hal_midas_oplus vendor_sysfs_rpmh_stats:file r_file_perms;
allow hal_midas_oplus vendor_sysfs_usb_supply:dir r_dir_perms;
allow hal_midas_oplus vendor_sysfs_usb_supply:file create_file_perms;
allow hal_midas_oplus vendor_sysfs_usb_supply:chr_file rw_file_perms;
